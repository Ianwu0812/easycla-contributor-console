{"ast":null,"code":"import { ProjectModel } from 'src/app/core/models/project';\nimport { AppSettings } from 'src/app/config/app-settings';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/shared/services/storage.service\";\nimport * as i3 from \"src/app/shared/services/alert.service\";\nimport * as i4 from \"src/app/core/services/cla-contributor.service\";\nimport * as i5 from \"../../../../shared/components/project-title/project-title.component\";\nimport * as i6 from \"../../component/dashboard-contributor-card/dashboard-contributor-card.component\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"../../component/dashboard-contributor-buttons/dashboard-contributor-buttons.component\";\nfunction ClaDashboardComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵelementStart(1, \"div\", 17);\n    i0.ɵɵlistener(\"click\", function ClaDashboardComponent_div_15_Template_div_click_1_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.onClickPreviewPDF(\"ccla\");\n    });\n    i0.ɵɵelement(2, \"i\", 18);\n    i0.ɵɵtext(3, \" Download PDF \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClaDashboardComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵelementStart(1, \"div\", 17);\n    i0.ɵɵlistener(\"click\", function ClaDashboardComponent_div_17_Template_div_click_1_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.onClickPreviewPDF(\"icla\");\n    });\n    i0.ɵɵelement(2, \"i\", 18);\n    i0.ɵɵtext(3, \" Download PDF\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\nexport let ClaDashboardComponent = /*#__PURE__*/(() => {\n  class ClaDashboardComponent {\n    constructor(route, router, storageService, alertService, claContributorService) {\n      this.route = route;\n      this.router = router;\n      this.storageService = storageService;\n      this.alertService = alertService;\n      this.claContributorService = claContributorService;\n      this.corporateContributor = 'Corporate Contributor';\n      this.individualContributor = 'Individual Contributor';\n      this.exitEasyCLA = 'exitEasyCLA';\n      this.project = new ProjectModel();\n      this.storageService.removeGerritItems();\n      this.storageService.setItem(AppSettings.HAS_GERRIT, false);\n      this.projectId = this.route.snapshot.paramMap.get('projectId');\n      this.userId = this.route.snapshot.paramMap.get('userId');\n      const redirect = this.route.snapshot.queryParamMap.get('redirect');\n      this.storageService.setItem(AppSettings.REDIRECT, redirect);\n      this.hasErrorPresent();\n    }\n    ngOnInit() {\n      this.corporateHightlights = ['If you are making a contribution of content owned by your employer, you should proceed as a corporate contributor.', 'The Corporate CLA process requires you to be approved by your organization\\'s CLA Manager. A CLA Manager at your organization will receive your request via email immediately after you submit it. To expedite the process, you can follow up with them directly.', 'If your organization has not yet signed a CLA for this project, you will be able to coordinate designating a CLA Manager and having the CLA signed by someone at your organization who is authorized to sign.', 'If your organization is not registered, then you can optionally create a profile for your organization during the CLA authorization process.'];\n      this.individualHightlights = ['If you are making a contribution of content that you own, and not content owned by your employer, you should proceed as an individual contributor.', 'If you are in doubt whether your contribution is owned by you or your employer, you should check with your employer or an attorney.'];\n    }\n    onClickCorporateProceed() {\n      if (!this.project.project_ccla_enabled) {\n        this.alertService.error('The Corporate CLA option is not enabled for this project. Please contact to your administrator to enable the Corporate CLA option for this project.');\n        return false;\n      }\n      if (!this.hasError) {\n        const url = '/corporate-dashboard/' + this.projectId + '/' + this.userId;\n        this.router.navigate([url]);\n      }\n    }\n    onClickIndividualProceed() {\n      if (!this.project.project_icla_enabled) {\n        this.alertService.error('The Individual CLA option is not enabled for this project. Please to your administrator to enable the Individual CLA option for this project.');\n        return false;\n      }\n      if (!this.hasError) {\n        const url = '/individual-dashboard/' + this.projectId + '/' + this.userId;\n        this.router.navigate([url]);\n      }\n    }\n    onAPILoad(APIType) {\n      if (APIType === 'Project') {\n        this.project = JSON.parse(this.storageService.getItem(AppSettings.PROJECT));\n      }\n    }\n    onExitEasyCLA() {\n      const redirectUrl = JSON.parse(this.storageService.getItem(AppSettings.REDIRECT));\n      if (redirectUrl !== null) {\n        window.open(redirectUrl, '_self');\n      } else {\n        const error = 'Unable to fetch redirect URL.';\n        this.alertService.error(error);\n      }\n    }\n    onClickPreviewPDF(consoleType) {\n      this.claContributorService.downloadFile(this.projectId, consoleType);\n    }\n    hasErrorPresent(error) {\n      this.hasError = false;\n      if (error) {\n        this.hasError = true;\n      }\n    }\n  }\n  ClaDashboardComponent.ɵfac = function ClaDashboardComponent_Factory(t) {\n    return new (t || ClaDashboardComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.StorageService), i0.ɵɵdirectiveInject(i3.AlertService), i0.ɵɵdirectiveInject(i4.ClaContributorService));\n  };\n  ClaDashboardComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ClaDashboardComponent,\n    selectors: [[\"app-cla-dashboard\"]],\n    decls: 29,\n    vars: 13,\n    consts: [[3, \"projectId\", \"userId\", \"successEmitter\", \"errorEmitter\"], [1, \"container-fluid\", \"dashboard-container\"], [1, \"contributor-type-container\"], [1, \"container\"], [1, \"row\"], [1, \"col-12\", \"header\"], [1, \"container-fluid\"], [1, \"col-xs-12\", \"col-sm-12\", \"col-md-6\", \"col-lg-6\"], [3, \"type\", \"highlights\", \"btnEmitter\"], [1, \"row\", \"justify-content-center\", \"preview-buttons\"], [\"class\", \"row justify-content-center\", 4, \"ngIf\"], [1, \"deskop-view\"], [3, \"type\", \"hasEnabled\", \"proceedBtnEmitter\"], [1, \"row\", \"justify-content-center\", \"align-items-center\", \"exitCLA\"], [1, \"col-3\"], [3, \"type\", \"proceedBtnEmitter\"], [1, \"row\", \"justify-content-center\"], [1, \"col-auto\", \"preview-btn\", 3, \"click\"], [1, \"far\", \"fa-file-pdf\"]],\n    template: function ClaDashboardComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"app-project-title\", 0);\n        i0.ɵɵlistener(\"successEmitter\", function ClaDashboardComponent_Template_app_project_title_successEmitter_0_listener($event) {\n          return ctx.onAPILoad($event);\n        })(\"errorEmitter\", function ClaDashboardComponent_Template_app_project_title_errorEmitter_0_listener($event) {\n          return ctx.hasErrorPresent($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵelementStart(4, \"div\", 4);\n        i0.ɵɵelementStart(5, \"div\", 5);\n        i0.ɵɵtext(6, \" What type of contributor are you? \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 6);\n        i0.ɵɵelementStart(8, \"div\", 4);\n        i0.ɵɵelementStart(9, \"div\", 7);\n        i0.ɵɵelementStart(10, \"app-dashboard-contributor-card\", 8);\n        i0.ɵɵlistener(\"btnEmitter\", function ClaDashboardComponent_Template_app_dashboard_contributor_card_btnEmitter_10_listener() {\n          return ctx.onClickCorporateProceed();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\", 7);\n        i0.ɵɵelementStart(12, \"app-dashboard-contributor-card\", 8);\n        i0.ɵɵlistener(\"btnEmitter\", function ClaDashboardComponent_Template_app_dashboard_contributor_card_btnEmitter_12_listener() {\n          return ctx.onClickIndividualProceed();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 9);\n        i0.ɵɵelementStart(14, \"div\", 7);\n        i0.ɵɵtemplate(15, ClaDashboardComponent_div_15_Template, 4, 0, \"div\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"div\", 7);\n        i0.ɵɵtemplate(17, ClaDashboardComponent_div_17_Template, 4, 0, \"div\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"div\", 11);\n        i0.ɵɵelementStart(19, \"div\", 4);\n        i0.ɵɵelementStart(20, \"div\", 7);\n        i0.ɵɵelementContainerStart(21);\n        i0.ɵɵelementStart(22, \"app-dashboard-contributor-buttons\", 12);\n        i0.ɵɵlistener(\"proceedBtnEmitter\", function ClaDashboardComponent_Template_app_dashboard_contributor_buttons_proceedBtnEmitter_22_listener() {\n          return ctx.onClickCorporateProceed();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"div\", 7);\n        i0.ɵɵelementContainerStart(24);\n        i0.ɵɵelementStart(25, \"app-dashboard-contributor-buttons\", 12);\n        i0.ɵɵlistener(\"proceedBtnEmitter\", function ClaDashboardComponent_Template_app_dashboard_contributor_buttons_proceedBtnEmitter_25_listener() {\n          return ctx.onClickIndividualProceed();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"div\", 13);\n        i0.ɵɵelementStart(27, \"div\", 14);\n        i0.ɵɵelementStart(28, \"app-dashboard-contributor-buttons\", 15);\n        i0.ɵɵlistener(\"proceedBtnEmitter\", function ClaDashboardComponent_Template_app_dashboard_contributor_buttons_proceedBtnEmitter_28_listener() {\n          return ctx.onExitEasyCLA();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"projectId\", ctx.projectId)(\"userId\", ctx.userId);\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"type\", ctx.corporateContributor)(\"highlights\", ctx.corporateHightlights);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"type\", ctx.individualContributor)(\"highlights\", ctx.individualHightlights);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.project.project_ccla_enabled && ctx.project.project_corporate_documents.length > 0);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.project.project_icla_enabled && ctx.project.project_individual_documents.length > 0);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"type\", ctx.corporateContributor)(\"hasEnabled\", ctx.project.project_ccla_enabled);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"type\", ctx.individualContributor)(\"hasEnabled\", ctx.project.project_icla_enabled);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"type\", ctx.exitEasyCLA);\n      }\n    },\n    directives: [i5.ProjectTitleComponent, i6.DashboardContributorCardComponent, i7.NgIf, i8.DashboardContributorButtonsComponent],\n    styles: [\".dashboard-container[_ngcontent-%COMP%]{background-color:#f5f5f5}.dashboard-container[_ngcontent-%COMP%]   .contributor-type-container[_ngcontent-%COMP%]{padding:30px 5%}.dashboard-container[_ngcontent-%COMP%]   .contributor-type-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-family:\\\"SourceSansPro\\\";font-size:26px;text-align:center;font-weight:bold;padding:5px 0;line-height:1px}.dashboard-container[_ngcontent-%COMP%]   .contributor-type-container[_ngcontent-%COMP%]   .deskop-view[_ngcontent-%COMP%]{display:block}.dashboard-container[_ngcontent-%COMP%]   .exitCLA[_ngcontent-%COMP%]{margin-top:30px}.dashboard-container[_ngcontent-%COMP%]   .preview-buttons[_ngcontent-%COMP%]{margin-bottom:30px}.dashboard-container[_ngcontent-%COMP%]   .preview-buttons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ff595a;font-size:16px;margin-right:5px}.dashboard-container[_ngcontent-%COMP%]   .preview-buttons[_ngcontent-%COMP%]   .preview-btn[_ngcontent-%COMP%]{width:131px;padding:6px;cursor:pointer;color:#09c;font-family:\\\"SourceSansPro\\\";font-size:14px;font-weight:bold;text-align:center;background:#ffffff;border:1px solid #0099cc;border-radius:5px;box-shadow:0 0 20px 2px #0000}@media only screen and (max-width: 765px){.contributor-type-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-size:20px!important}.contributor-type-container[_ngcontent-%COMP%]   .deskop-view[_ngcontent-%COMP%]{display:none!important}}\"]\n  });\n  return ClaDashboardComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}